/* Start game on load */
window.addEventListener('load', function() {
  $.init();
  // Input
  $.in = new Input();
  // Collisions system
  $.o = new Collisions();
  // Bind keyboard
  $.in.b([13, 65, 68, 87, 83]);

  // Collision groups
  $.g.w = new Group(); // Walls
  $.g.z = new Group(); // Zombies
  $.g.s = new Group(); // Spawners
  $.g.i = new Group(); // Items
  $.g.h = new Group(); // Start and end points
  $.g.b = new Group(); // Bullets
  $.g.x = new Group(); // Pushables boxes
  $.g.n = new Group(); // NPCs

  $.lvl = new Level();
  $.txt = new Text();

  // Sound manager
  $.sn = new Sound();
  //$.sn.a('gu', [1,0.48,,0.196,,0.281,0.3,0.4646,0.0441,-0.5027,,,,,,,,,,,0.4261,0.0232,,0.1362,-0.1015,1,,,0.2264,,,,0.5], 4);
  // 0.5,,0.2497,,0.0078,0.3,0.1379,0.075,-0.5493,,,,,,,,,,,0.3833,0.1918,,,,1,,,0.0668,,,,1
  //$.sn.a('gu', [,,0.1953, 0.1554, 0.0181, 0.3686, 0.0664, -0.3694,,,,,,0.4446, -0.5364,,0.1906, -0.0251, 1,,, 0.2643,, 0.5], 10);
  //$.sn.a('gu', [0,,0.1898,0.123,0.1973,0.3901,0.0381,-0.6025,,,,,,0.6192,-0.5134,,,,1,,,,,0.5], 10);
  $.sn.a('gu', [1,,0.1799,0.138,0.3683,0.6868,0.0362,-0.5561,,,,,,0.0728,0.1995,,,,1,,,0.1175,,0.4], 10);
  // Shotgun
  $.sn.a('sh', [,0.001,0.228,0.039,0.228,0.418,,-0.465,,,,,,0.195,0.0166,,,,1,,,0.1804,,0.4], 10);
  // Flame
  $.sn.a('fl', [3,,0.3554,0.2783,0.3645,0.0744,,,,,,,,,,,,,1,,,,,0.36], 8);
  // Player hurt
  $.sn.a('ph', [,,0.0209,,0.1543,0.344,,-0.3079,,,,,,0.1952,,,,,1,,,,,0.5], 1);
  // Vaccine drop
  $.sn.a('vd', [,,0.1832,,0.3385,0.3446,,0.2004,,,,,,0.082,,0.439,,,1,,,,,0.3], 1);
  // Vaccine pick up
  $.sn.a('vp', [1,,0.123,,0.2337,0.35,,0.443,-0.139,,,,,1,,0.662,,,1,,,,,0.4], 1);
  // Zombie hurt
  $.sn.a('zh', [,,0.0279,,0.178,0.2231,,-0.3218,,,,,,0.3812,,,,,1,,,,,0.7], 20);
  // Zombie growl
  $.sn.a('zg', [3,,0.294,0.173,0.0061,0.0449,,0.115,-0.377,,,,,,,,0.4097,-0.0827,1,,,,,0.5], 10);

  // Game Scenes
  $.scn = {};
  $.scn.menu = new MenuScene();
  $.scn.menu.loop();
});
